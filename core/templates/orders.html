{% extends 'base.html' %}

{% block content %}
<div class="container my-5">
    <div class="card shadow-lg border-light rounded-lg p-4">
        
        <!-- Tabs for Bought & Sold Orders -->
        <ul class="nav nav-pills nav-justified mb-3" id="ordersTabs">
            <li class="nav-item">
                <a class="nav-link active fw-bold" id="bought-tab" data-bs-toggle="pill" href="#boughtOrders">Bought Orders</a>
            </li>
            <li class="nav-item">
                <a class="nav-link fw-bold" id="sold-tab" data-bs-toggle="pill" href="#soldOrders">Sold Orders</a>
            </li>
        </ul>

        <div class="tab-content">
            <!-- Bought Orders -->
            <div class="tab-pane fade show active" id="boughtOrders">
                {% if bought_orders %}
                    <div class="list-group">
                        {% for order in bought_orders %}
                            <div class="list-group-item d-flex justify-content-between align-items-center shadow-sm">
                                <div>
                                    <h5 class="mb-1">{{ order.gift_card.brand }} - ${{ order.amount }}</h5>
                                    <small class="text-muted"><i class="bi bi-calendar"></i> Purchased on {{ order.transaction_date }}</small>
                                </div>
                                <span class="badge bg-primary">{{ order.status }}</span>
                            </div>
                        {% endfor %}
                    </div>
                {% else %}
                    <p class="text-muted text-center mt-3">No bought orders yet.</p>
                {% endif %}
            </div>

            <!-- Sold Orders -->
            <div class="tab-pane fade" id="soldOrders">
                {% if sold_orders %}
                    <div class="list-group">
                        {% for order in sold_orders %}
                            <div class="list-group-item d-flex justify-content-between align-items-center shadow-sm">
                                <div>
                                    <h5 class="mb-1">{{ order.gift_card.brand }} - ${{ order.amount }}</h5>
                                    <small class="text-muted"><i class="bi bi-calendar"></i> Sold on {{ order.transaction_date }}</small>
                                </div>
                                <span class="badge bg-success">{{ order.status }}</span>
                            </div>
                        {% endfor %}
                    </div>
                {% else %}
                    <p class="text-muted text-center mt-3">No sold orders yet.</p>
                {% endif %}
            </div>
        </div>

    </div>
</div>
{% endblock %}
